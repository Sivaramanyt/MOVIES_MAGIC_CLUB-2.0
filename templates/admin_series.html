<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Series Admin – MOVIES MAGIC CLUB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="background:#020617;color:#e5e7eb;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;margin:0;padding:16px;">

  <h1>Series dashboard</h1>

  <p>
    <a href="/admin/movies" style="color:#60a5fa;text-decoration:none;">
      ← Back to Movies admin
    </a>
  </p>

  {% if message %}
    <div style="padding:8px 12px;border-radius:4px;background:#1d4ed8;color:#e5e7eb;margin-bottom:12px;">
      {{ message }}
    </div>
  {% endif %}

  <div style="display:flex;flex-wrap:wrap;gap:16px;">
    <!-- LEFT: existing series list -->
    <div style="flex:1 1 55%;min-width:260px;background:#111827;border-radius:8px;padding:16px;">
      <h2>All series</h2>

      {% if series_list and series_list|length > 0 %}
        <table style="width:100%;border-collapse:collapse;font-size:14px;">
          <thead>
            <tr>
              <th style="border-bottom:1px solid #374151;padding:6px 8px;text-align:left;">Poster</th>
              <th style="border-bottom:1px solid #374151;padding:6px 8px;text-align:left;">Title</th>
              <th style="border-bottom:1px solid #374151;padding:6px 8px;text-align:left;">Year</th>
              <th style="border-bottom:1px solid #374151;padding:6px 8px;text-align:left;">Quality</th>
              <th style="border-bottom:1px solid #374151;padding:6px 8px;text-align:left;">Languages</th>
            </tr>
          </thead>
          <tbody>
            {% for s in series_list %}
              <tr>
                <td style="border-bottom:1px solid #374151;padding:6px 8px;">
                  {% if s.poster_path %}
                    <img src="{{ s.poster_path }}" alt="{{ s.title }}" style="height:60px;border-radius:4px;object-fit:cover;">
                  {% else %}
                    -
                  {% endif %}
                </td>
                <td style="border-bottom:1px solid #374151;padding:6px 8px;">
                  <a href="/series/{{ s.id }}" target="_blank" style="color:#60a5fa;text-decoration:none;">
                    {{ s.title }}
                  </a>
                </td>
                <td style="border-bottom:1px solid #374151;padding:6px 8px;">{{ s.year or "" }}</td>
                <td style="border-bottom:1px solid #374151;padding:6px 8px;">{{ s.quality or "" }}</td>
                <td style="border-bottom:1px solid #374151;padding:6px 8px;">
                  {% if s.languages %}
                    {{ s.languages | join(", ") }}
                  {% else %}
                    -
                  {% endif %}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p>No series found yet. Use the form on the right to add a new series.</p>
      {% endif %}
    </div>

    <!-- RIGHT: add new series -->
    <div style="flex:1 1 40%;min-width:260px;background:#111827;border-radius:8px;padding:16px;">
      <h2>Add new series</h2>
      <p style="color:#9ca3af;font-size:13px;">
        Create a new web series (seasons &amp; episodes will be added later).
      </p>

      <!-- IMPORTANT: action + method must match admin_series_create -->
      <form action="/admin/series" method="post">
        <div style="margin-bottom:10px;">
          <label for="title">Title</label><br>
          <input type="text" id="title" name="title" placeholder="Series title"
                 style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;"
                 required>
        </div>

        <div style="margin-bottom:10px;">
          <label for="year">Year</label><br>
          <input type="text" id="year" name="year" placeholder="2024"
                 style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;">
        </div>

        <div style="margin-bottom:10px;">
          <label for="quality">Quality</label><br>
          <input type="text" id="quality" name="quality" placeholder="HD, 1080p, 4K"
                 style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;">
        </div>

        <div style="margin-bottom:10px;">
          <label for="category">Category / Genre</label><br>
          <input type="text" id="category" name="category" placeholder="Action, Romance, Sci‑Fi + Fantasy"
                 style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;">
        </div>

        <div style="margin-bottom:10px;">
          <label for="poster_path">Poster image URL</label><br>
          <input type="text" id="poster_path" name="poster_path"
                 placeholder="/static/posters/my-series.jpg or https://..."
                 style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;">
        </div>

        <div style="margin-bottom:10px;">
          <label>Languages (select one or more)</label><br>
          <label><input type="checkbox" name="languages" value="Tamil"> Tamil</label>
          <label><input type="checkbox" name="languages" value="Telugu"> Telugu</label>
          <label><input type="checkbox" name="languages" value="Hindi"> Hindi</label>
          <label><input type="checkbox" name="languages" value="Malayalam"> Malayalam</label>
          <label><input type="checkbox" name="languages" value="Kannada"> Kannada</label>
          <label><input type="checkbox" name="languages" value="English"> English</label>
        </div>

        <div style="margin-bottom:10px;">
          <label for="description">Short description</label><br>
          <textarea id="description" name="description" rows="4"
                    placeholder="Write a short synopsis of the series..."
                    style="width:100%;padding:8px 10px;border-radius:4px;border:1px solid #374151;background:#020617;color:#e5e7eb;"></textarea>
        </div>

        <div style="text-align:right;">
          <button type="submit" class="btn" style="background:#2563eb;color:#ffffff;">
            Save series
          </button>
        </div>
      </form>
    </div>
  </div>
</body>
    </html>
    
