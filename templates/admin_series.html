<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Series Admin – MOVIES MAGIC CLUB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #020617;
      color: #e5e7eb;
    }

    .admin-page {
      padding: 16px;
    }

    .admin-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 16px;
    }

    .admin-header h1 {
      font-size: 20px;
      margin: 0;
    }

    .admin-grid {
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 16px;
    }

    .admin-box {
      background: #111827;
      border-radius: 8px;
      padding: 16px;
    }

    h2 {
      margin-top: 0;
      font-size: 18px;
    }

    .btn {
      display: inline-block;
      padding: 8px 14px;
      border-radius: 4px;
      text-decoration: none;
      font-size: 14px;
      border: none;
      cursor: pointer;
    }

    .btn-primary {
      background: #2563eb;
      color: #ffffff;
    }

    .btn-secondary {
      background: #374151;
      color: #e5e7eb;
    }

    .alert {
      padding: 8px 12px;
      border-radius: 4px;
      background: #1d4ed8;
      color: #e5e7eb;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }

    .table th,
    .table td {
      border-bottom: 1px solid #374151;
      padding: 6px 8px;
      text-align: left;
      vertical-align: middle;
    }

    .table-striped tbody tr:nth-child(odd) {
      background: #020617;
    }

    .poster-img {
      height: 60px;
      border-radius: 4px;
      object-fit: cover;
    }

    .form-group {
      margin-bottom: 12px;
    }

    .form-group label {
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
    }

    .form-control,
    textarea.form-control {
      width: 100%;
      padding: 8px 10px;
      border-radius: 4px;
      border: 1px solid #374151;
      background: #020617;
      color: #e5e7eb;
      font-size: 14px;
      box-sizing: border-box;
    }

    .form-control::placeholder,
    textarea.form-control::placeholder {
      color: #6b7280;
    }

    .language-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px 16px;
      font-size: 14px;
    }

    .language-grid label {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .form-actions {
      margin-top: 12px;
      text-align: right;
    }

    .text-muted {
      color: #9ca3af;
      font-size: 13px;
    }

    @media (max-width: 900px) {
      .admin-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="admin-page">
    <div class="admin-header">
      <h1>Series dashboard</h1>
      <a href="/admin/movies" class="btn btn-secondary">← Back to Movies admin</a>
    </div>

    {% if message %}
      <div class="alert">
        {{ message }}
      </div>
    {% endif %}

    <div class="admin-grid">
      <!-- LEFT: series list -->
      <div class="admin-box">
        <h2>All series</h2>

        {% if series_list and series_list|length > 0 %}
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Poster</th>
                <th>Title</th>
                <th>Year</th>
                <th>Quality</th>
                <th>Languages</th>
              </tr>
            </thead>
            <tbody>
              {% for s in series_list %}
                <tr>
                  <td>
                    {% if s.poster_path %}
                      <img src="{{ s.poster_path }}" alt="{{ s.title }}" class="poster-img">
                    {% else %}
                      -
                    {% endif %}
                  </td>
                  <td>
                    <a href="/series/{{ s.id }}" target="_blank" style="color:#60a5fa;text-decoration:none;">
                      {{ s.title }}
                    </a>
                  </td>
                  <td>{{ s.year or "" }}</td>
                  <td>{{ s.quality or "" }}</td>
                  <td>
                    {% if s.languages %}
                      {{ s.languages | join(", ") }}
                    {% else %}
                      -
                    {% endif %}
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        {% else %}
          <p>No series found yet. Use the form on the right to add a new series.</p>
        {% endif %}
      </div>

      <!-- RIGHT: add new series -->
      <div class="admin-box">
        <h2>Add new series</h2>
        <p class="text-muted">
          Create a new web series (seasons &amp; episodes will be added later).
        </p>

        <form action="/admin/series" method="post">
          <!-- Title -->
          <div class="form-group">
            <label for="title">Title</label>
            <input
              type="text"
              id="title"
              name="title"
              class="form-control"
              placeholder="Series title"
              required
            >
          </div>

          <!-- Year -->
          <div class="form-group">
            <label for="year">Year</label>
            <input
              type="text"
              id="year"
              name="year"
              class="form-control"
              placeholder="2024"
            >
          </div>

          <!-- Quality -->
          <div class="form-group">
            <label for="quality">Quality</label>
            <input
              type="text"
              id="quality"
              name="quality"
              class="form-control"
              placeholder="HD, 1080p, 4K"
            >
          </div>

          <!-- Category / Genre -->
          <div class="form-group">
            <label for="category">Category / Genre</label>
            <input
              type="text"
              id="category"
              name="category"
              class="form-control"
              placeholder="Action, Romance, Sci‑Fi + Fantasy"
            >
          </div>

          <!-- Poster -->
          <div class="form-group">
            <label for="poster_path">Poster image URL</label>
            <input
              type="text"
              id="poster_path"
              name="poster_path"
              class="form-control"
              placeholder="/static/posters/my-series.jpg or https://..."
            >
          </div>

          <!-- Languages -->
          <div class="form-group">
            <label>Languages (select one or more)</label>
            <div class="language-grid">
              <label><input type="checkbox" name="languages" value="Tamil"> Tamil</label>
              <label><input type="checkbox" name="languages" value="Telugu"> Telugu</label>
              <label><input type="checkbox" name="languages" value="Hindi"> Hindi</label>
              <label><input type="checkbox" name="languages" value="Malayalam"> Malayalam</label>
              <label><input type="checkbox" name="languages" value="Kannada"> Kannada</label>
              <label><input type="checkbox" name="languages" value="English"> English</label>
            </div>
          </div>

          <!-- Description -->
          <div class="form-group">
            <label for="description">Short description</label>
            <textarea
              id="description"
              name="description"
              class="form-control"
              rows="4"
              placeholder="Write a short synopsis of the series..."
            ></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              Save series
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
  </html>
                      
