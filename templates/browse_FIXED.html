{% extends "base.html" %}

{% block content %}
<style>
    .browse-header {
        margin-top: 8px;
        margin-bottom: 10px;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .browse-title {
        font-size: 17px;
        font-weight: 600;
    }

    .browse-sub {
        font-size: 12px;
        color: var(--text-muted);
    }

    .browse-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
        margin-top: 6px;
    }

    .browse-card {
        background: radial-gradient(circle at top, #1d4ed8, #020617);
        border-radius: 18px;
        border: 1px solid rgba(55, 65, 81, 0.85);
        padding: 8px;
        display: flex;
        flex-direction: column;
        gap: 6px;
        text-decoration: none;
        color: inherit;
    }

    .browse-poster {
        width: 100%;
        height: 150px;
        border-radius: 14px;
        overflow: hidden;
        background: radial-gradient(circle at top, #1d4ed8, #020617);
        object-fit: cover;
    }

    .browse-title-text {
        font-size: 12px;
        font-weight: 500;
        margin-bottom: 2px;
    }

    .browse-meta {
        font-size: 10px;
        color: var(--text-muted);
    }

    .browse-empty {
        margin-top: 16px;
        font-size: 12px;
        color: var(--text-muted);
    }

    @media (min-width: 768px) {
        .browse-grid {
            grid-template-columns: repeat(4, minmax(0, 1fr));
        }

        .browse-poster {
            height: 190px;
        }
    }
</style>

<section class="browse-header">
    <div class="browse-title">{{ page_title }}</div>
    <div class="browse-sub">{{ page_subtitle }}</div>
</section>

{% if movies and movies|length > 0 %}
    <section class="browse-grid">
        {% for m in movies %}
        <a href="/movie/{{ m.id }}" class="browse-card">
            {% if m.poster_path %}
                <img src="{{ m.poster_path }}" alt="{{ m.title }}" class="browse-poster">
            {% else %}
                <div class="browse-poster"></div>
            {% endif %}
            <div class="browse-title-text">{{ m.title }}</div>
            <div class="browse-meta">
                {{ m.quality or "HD" }} · {{ m.year or "" }} · {% if m.languages and m.languages|length > 1 %}Multi-Audio{% else %}{{ m.language or "" }}{% endif %}
            </div>
        </a>
        {% endfor %}
    </section>
{% else %}
    <div class="browse-empty">
        No movies found for this filter yet. Please add some from the admin dashboard.
    </div>
{% endif %}

{% endblock %}
